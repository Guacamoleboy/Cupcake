<!DOCTYPE html>
<html lang="da">
<head>

    <!-- Meta -->
    <meta charset="UTF-8"> <!-- ÆØÅ -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge"> <!-- In case some nerd uses Internet Explorer -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Mobile Responsiveness -->
    <meta name="description" content="Fuck vi hader livet jo... #swag"> <!-- SEO / Google -->
    <meta name="author" content="Gruppe D"> <!-- Author of Website -->

    <!-- Visuals -->
    <title>Olsker Cupcakes - Payment</title>

    <!-- Icon -->
    <link rel="icon" href="/images/icons/cupcake-1.png" type="image/x-icon"> <!-- That little logo thats next to the title in URL -->
    <link rel="apple-touch-icon" href="/images/icons/cupcake-1.png">

    <!-- Font Awesome Load -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- CSS Load -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Script Load -->
    <script src="/js/payment-modal.js" defer></script>
    <script src="/js/notification.js" defer></script>

    <!-- Framwork load -->
    <link rel="stylesheet" href="/css/guacamoleboy-wow.css">
    <link rel="stylesheet" href="/css/guacamoleboy-framework.css">
    <script src="/js/guacamoleboy-wow.js" defer></script>

</head>
<body class="subpage">

<!-- Return to Index -->
<a href="/payment" class="exit-btn" title="Tilbage til order"><i class="fa fa-arrow-left"></i></a>
<!-- Return to Index -->

<!-- Payment Section Start -->
<section class="section-1-payment">
    <div class="guac-container">

        <!-- Order Header -->
        <h2>Final Confirmation</h2>
        <p class="payment-p">Sidste tilføjelser inden ordren oprettes</p>
        <!-- Order Header -->

        <hr class="section-divider">

        <!-- Delivery -->
        <h3>Leveringsmetode</h3>
        <div class="delivery-options guac-row">
            <button type="button" th:text="${data.deliveryMethod}"></button>
        </div>
        <p>Olskervej 1, 3770 Allinge</p>
        <p>Din ordre er klar inden for ca 30 min efter godkendelse hvis du henter selv.</p>
        <p>Har du bestilt med levering, så kommer de efter ca 1-3 dage.</p>
        <p>+45 12 34 56 78</p>
        <!-- Delivery -->

        <hr class="section-divider">

        <!-- Coupon -->
        <h3>Rabatkode</h3>
        <p th:if="${data.coupon != null}" th:text="${data.coupon.code}">Ingen rabatkode anvendt</p>
        <p th:if="${data.coupon == null}">Ingen rabatkode anvendt</p>
        <!-- Coupon -->

        <hr class="section-divider">

        <!-- Info Above Order List -->
        <div class="order-list">
            <div class="order-item guac-row guac-col-auto">
                <p>Produkt</p>
                <p>Antal</p>
                <p>Pris pr stk</p>
            </div>
        </div>
        <!-- Info Above Order List -->

        <hr class="section-divider">

        <!-- Order List -->
        <div class="order-list">
            <div class="order-item guac-row guac-col-auto" th:each="item : ${data.cartItems}">
                <p th:text="${item.displayName}">Produktnavn</p>
                <p th:text="${item.quantity}">Antal</p>
                <p th:text="${item.price} + ' kr'">Pris</p>
            </div>
        </div>
        <!-- Order List -->

        <hr class="section-divider">

        <!-- Info Under Order List -->
        <div class="order-list">
            <div class="order-item guac-row guac-col-auto">
                <p>Total</p>
                <p></p>
                <p th:text="${#numbers.formatDecimal((data.discountedTotal != null ? data.discountedTotal : data.originalTotal), 1, 2) + ' kr'}">0.00 kr</p>
            </div>
        </div>
        <!-- Info Under Order List -->

        <hr class="section-divider">

        <!-- Payment Method -->
        <h3>Betalingsmetode</h3>
        <div class="payment-options guac-row">
            <button type="button" th:text="${data.paymentMethod}"></button>
        </div>
        <!-- Payment Method -->

        <hr class="section-divider">

        <!-- Next Button (opens modal) -->
        <a href="#" class="next-btn" id="openPaymentModalBtn">Betal nu</a>
        <!-- Next Button -->

    </div>
</section>
<!-- Payment Section End -->

<!-- Payment Modal Start -->
<div id="paymentModalContainer">
    <div id="paymentModalContent">
        <span id="paymentModalClose">&times;</span>
        <h2>Bekræft betaling</h2>
        <p>Betalingsmetode: <span th:text="${data.paymentMethod}"></span></p>
        <p>Din balance: <span th:text="${data.user.balance}"></span> DKK</p>

        <!-- Fake. Won't be connected! -->
        <div id="paymentInputs">
            <input type="text" placeholder="Kortnummer" readonly />
            <input type="text" placeholder="Navn på kort" readonly />
            <input type="text" placeholder="CVR" readonly />
            <input type="text" placeholder="Udløbsdato (MM/YY)" readonly />
        </div>
        <!-- Fake. Won't be connected! -->

        <a th:href="'/ordertak/' + ${data.order.id}" id="confirmPaymentBtn">Betal</a>
    </div>
</div>
<!-- Payment Modal End -->

<!-- Notification -->
<div id="guac-notification-container"></div>
<!-- Notification -->

</body>
</html>